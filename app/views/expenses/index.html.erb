<%- model_class = Expense -%>
<div class="section-header">
    <h1><%=t '.title', default: Expense %></h1>
</div>
<div class="uk-overflow-container">
    <table class="uk-table uk-table-striped">
        <thead>
            <tr>
                <th><%= model_class.human_attribute_name(:frequency) %></th>
                <th><%= model_class.human_attribute_name(:name) %></th>
                <th><%= model_class.human_attribute_name(:amount) %></th>
                <th><%= model_class.human_attribute_name(:category) %></th>
                <th><%= model_class.human_attribute_name(:date) %></th>
                <th><%= model_class.human_attribute_name(:notes) %></th>
                <th><%= model_class.human_attribute_name(:created_at) %></th>
                <th><%=t '.actions', :default => t("helpers.actions") %></th>
            </tr>
        </thead>
        <tbody>
            <% @expenses.each do |expense| %>
            <tr>
                <td><%= expense.frequency.name.capitalize %></td>
                <td><%= expense.name %></td>
                <td><%= expense.amount %></td>
                <td><%= expense.category %></td>
                <td>
                    <% if expense.frequency == Frequency.where(name: 'one-time').first %>
                    <%= expense.date.to_s %>
                <% else %>
                    N/A
                    <% end %>
                </td>
                <td><%= expense.notes %></td>
                <td><%=l expense.created_at, format: :long %></td>
                <td>
                    <%= link_to expense_path(expense), :class => 'uk-icon-button uk-icon-eye uk-text-default', :title => "#{ t('.show', :default => t('helpers.links.show')) }" do %>
                    <% end %>
                    <%= link_to edit_expense_path(expense), :class => 'uk-icon-button uk-icon-pencil uk-text-primary', :title => "#{ t('.edit', :default => t('helpers.links.edit')) }" do %>
                    <% end %>
                    <%= link_to expense_path(expense), :method => :delete, :data => { :confirm => t('.confirm', :default => t("helpers.links.confirm", :default => 'Are you sure?')) }, :class => 'uk-icon-button uk-icon-remove uk-text-danger', :title => "#{ t('.destroy',
                    :default => t('helpers.links.destroy')) }" do %>
                    <%- end -%>
                </td>
            </tr>
            <% end %>
        </tbody>
    </table>

    <%= link_to t('.new', :default => t("helpers.links.new")),
            new_budget_expense_path(@budget),
            :class => 'uk-button uk-button-primary' %>
</div>